/*!
 * ui-tree
 * http://github.com/jimliu/ui-tree
 * Version: 3.0.0 - 2015-01-06T14:21:56.271Z
 * License: MIT
 */
!function(){"use strict";void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),angular.module("ui.tree",[]).constant("uiTreeConfig",{theme:"default",multiple:!1}),angular.module("ui.tree").controller("uiTreeCtrl",["$scope","$timeout",function(e,t){var n,l=this,o=l.nodes=e.nodes=[];l.selected=void 0,l.multiple=!1,l.wholerow=!1,l.clickTriggeredSelect=!1,l.addNode=function(e){o.push(e)},l.removeNode=function(e){var t=o.indexOf(e);o.splice(t,1)},e.$on("$destroy",function(){n=!0}),l.isEmpty=function(){return angular.isUndefined(l.selected)||null===l.selected||""===l.selected},l.select=function(n,o){l.nodes&&l.nodes.length&&(l.multiple?(l.selected||(l.selected=[]),l.selected.push(n)):(l.selected&&l.selected.unselect(),l.selected=n),n.select(),t(function(){l.onSelectCallback&&l.onSelectCallback(e,{$node:n,$model:null})}),o&&"click"===o.type&&(l.clickTriggeredSelect=!0))},l.expandSelected=function(){l.multiple||l.selected&&l.selected.expand()},l.collapseSelected=function(){l.multiple||l.selected&&l.selected.collapse()},l.moveUp=function(){if(!l.multiple&&l.selected){var e=l.selected.prevExpandedNode();e&&l.select(e)}},l.moveDown=function(){if(!l.multiple&&l.selected){var e=l.selected.nextExpandedNode();e&&l.select(e)}}}]),angular.module("ui.tree").controller("uiTreeNodeCtrl",["$scope","$log",function(e){var t,n,l,o,r=this,d=r.scope=e,a=r.nodes=e.nodes=[];d.selected=!1,d.hovered=!1,e.init=function(e){d.$parentNode=n=e[0],o=e[1],d.$tree=o,l=n?n:o,l.addNode(d)},r.addNode=function(e){a.push(e)},r.removeNode=function(e){var t=a.indexOf(e);a.splice(t,1)},e.toggle=function(){e.collapsed=!e.collapsed},e.expand=function(){e.collapsed=!1},e.collapse=function(){e.collapsed=!0},e.index=function(){return l.nodes.indexOf(e)},e.prev=function(){var t=e.index();return t>0?l.nodes[t-1]:null},e.next=function(){var t=e.index();return t<l.nodes.length-1?l.nodes[t+1]:null},e.prevExpandedNode=function(){var t=e.prev();return t?t.lastExpanedNode():n?n.scope:null},e.lastExpanedNode=function(){if(e.collapsed||0===a.length)return e;var t=a[a.length-1];return t.lastExpanedNode()},e.nextExpandedNode=function(){if(!e.collapsed&&a.length>0)return a[0];var t=e.next();if(t)return t.collapsed||0===t.nodes.length?t:t.nodes[0];for(var n=e.$parentNode?e.$parentNode.scope:null;n&&!t;)t=n.next(),n=n.$parentNode?n.$parentNode.scope:null;return t},e.depth=function(){return n?n.scope.depth()+1:1},e.select=function(){e.disabled||e.selected||(e.selected=!0)},e.unselect=function(){!e.disabled&&e.selected&&(e.selected=!1)},e.hover=function(){e.hovered||e.selected||e.disabled||(e.hovered=!0)},e.unhover=function(){e.hovered&&(e.hovered=!1)},e.headerClick=function(t){t.preventDefault(),e.$apply(function(){o.select(e,t)})},e.headerHover=function(t){t.stopImmediatePropagation(),t.preventDefault(),e.$apply(function(){e.hover()})},e.headerUnhover=function(t){t.stopImmediatePropagation(),t.preventDefault(),e.$apply(function(){e.unhover()})},e.$on("$destroy",function(){t=!0,l.removeNode(d)})}]),angular.module("ui.tree").directive("uiTreeKeyHandler",["$document",function(e){return{restrict:"A",require:"^uiTree",link:function(t,n,l,o){e.bind("keydown keypress",function(n){var l=e[0].activeElement.tagName;if("TEXTAREA"!==l&&"INPUT"!==l&&"SELECT"!==l)switch(n.which){case 13:break;case 37:n.preventDefault(),t.$apply(function(){o.collapseSelected()});break;case 38:n.preventDefault(),t.$apply(function(){o.moveUp()});break;case 39:n.preventDefault(),t.$apply(function(){o.expandSelected()});break;case 40:n.preventDefault(),t.$apply(function(){o.moveDown()});break;case 36:n.preventDefault();break;case 35:n.preventDefault();break;case 46:n.preventDefault()}})}}}]),angular.module("ui.tree").directive("uiTree",["$document","uiTreeConfig","$parse","$log",function(e,t){return{restrict:"EA",templateUrl:function(e,n){var l=n.theme||t.theme;return l+"/tree.tpl.html"},replace:!0,transclude:!0,require:["uiTree","?ngModel"],scope:!0,controller:"uiTreeCtrl",controllerAs:"$tree",link:function(e,t,n,l){var o=l[0],r=l[1];o.ngModel=r,n.$observe("wholerow",function(){o.wholerow=void 0!==n.wholerow?e.$eval(n.wholerow):!1})}}}]),angular.module("ui.tree").directive("uiTreeNode",["uiTreeConfig","$parse","$log",function(e,t){return{restrict:"EA",require:["?^^uiTreeNode","^uiTree"],replace:!0,transclude:!0,scope:!0,controller:"uiTreeNodeCtrl",controllerAs:"$treeNode",templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/tree-node.tpl.html"},link:function(e,n,l,o){e.init(o),e.onSelectCallback=t(l.onSelect),l.$observe("collapsed",function(){e.collapsed=void 0!==l.collapsed?e.$eval(l.collapsed):!1}),l.$observe("selected",function(){e.selected=void 0!==l.selected?e.$eval(l.selected):!1}),l.$observe("text",function(){void 0!==l.text&&(e.text=e.$eval(l.text))})}}}]),angular.module("ui.tree").directive("uiTreeNodeHeader",[function(){return{restrict:"A",require:"^uiTreeNode",link:function(e,t,n){var l=n.uiTreeNodeHeader,o="wholerow"==l;t.bind("click",function(t){t.stopImmediatePropagation(),e.headerClick(t)}),t.bind("mouseover",function(t){t.stopImmediatePropagation(),e.headerHover(t)}),t.bind("mouseleave",function(t){t.stopImmediatePropagation(),e.headerUnhover(t)}),e.$watch("selected",function(e){e?o?t.addClass("ui-tree-node-wholerow-selected"):t.addClass("ui-tree-node-selected"):(t.removeClass("ui-tree-node-selected"),t.removeClass("ui-tree-node-wholerow-selected"))}),e.$watch("hovered",function(e){e?o?t.addClass("ui-tree-node-wholerow-hover"):t.addClass("ui-tree-node-header-hover"):(t.removeClass("ui-tree-node-header-hover"),t.removeClass("ui-tree-node-wholerow-hover"))})}}}])}(),angular.module("ui.tree").run(["$templateCache",function(e){e.put("default/tree-node.tpl.html",'<li class="ui-tree-node" ng-class="{}"><div ng-if="$tree.wholerow" class="ui-tree-node-wholerow" ui-tree-node-header="wholerow">&nbsp;</div><a class="ui-tree-link" tabindex="-1" ng-click="toggle()"><i ng-class="{\'fa-caret-right\': collapsed, \'fa-caret-down\': !collapsed}" class="ui-tree-icon fa"></i></a><a class="ui-tree-link ui-tree-node-header" href="javascript:void(0)" tabindex="-1" ui-tree-node-header=""><i class="fa fa-folder" ng-class="{\'fa-folder\': collapsed, \'fa-folder-open\': !collapsed}"></i> {{text}}</a><ul class="ui-tree-nodes" ng-show="nodes.length > 0 && !collapsed" ng-transclude=""></ul></li>'),e.put("default/tree.tpl.html",'<div class="ui-tree tree-default" ng-class="{\'ui-tree-wholerow\': $tree.wholerow}" ui-tree-key-handler=""><ul ng-transclude="" class="ui-tree-nodes"></ul></div>')}]);
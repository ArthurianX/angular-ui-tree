/*!
 * ui-tree
 * http://github.com/jimliu/ui-tree
 * Version: 3.0.0 - 2015-01-06T07:56:09.553Z
 * License: MIT
 */
!function(){"use strict";void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),angular.module("ui.tree",[]).constant("uiTreeConfig",{theme:"bootstrap",multiple:!1}),angular.module("ui.tree").controller("uiTreeCtrl",["$scope","$timeout",function(e,t){var n,o=this,l=o.nodes=e.nodes=[];o.selected=void 0,o.multiple=!1,o.clickTriggeredSelect=!1,o.addNode=function(e){l.push(e)},o.removeNode=function(e){var t=l.indexOf(e);l.splice(t,1)},e.$on("$destroy",function(){n=!0}),o.isEmpty=function(){return angular.isUndefined(o.selected)||null===o.selected||""===o.selected},o.select=function(n,l){o.nodes&&o.nodes.length&&(o.multiple?(o.selected||(o.selected=[]),o.selected.push(n)):(o.selected&&o.selected.unselect(),o.selected=n),n.select(),t(function(){o.onSelectCallback&&o.onSelectCallback(e,{$node:n,$model:null})}),l&&"click"===l.type&&(o.clickTriggeredSelect=!0))},o.expandSelected=function(){o.multiple||o.selected&&o.selected.expand()},o.collapseSelected=function(){o.multiple||o.selected&&o.selected.collapse()},o.moveUp=function(){if(!o.multiple&&o.selected){var e=o.selected.prevExpandedNode();e&&o.select(e)}},o.moveDown=function(){if(!o.multiple&&o.selected){var e=o.selected.nextExpandedNode();e&&o.select(e)}}}]),angular.module("ui.tree").controller("uiTreeNodeCtrl",["$scope","$log",function(e){var t,n,o,l,r=this,i=r.scope=e,d=r.nodes=e.nodes=[];i.selected=!1,i.hovered=!1,e.init=function(e){i.$parentNode=n=e[0],l=e[1],o=n?n:l,o.addNode(i)},r.addNode=function(e){d.push(e)},r.removeNode=function(e){var t=d.indexOf(e);d.splice(t,1)},e.toggle=function(){e.collapsed=!e.collapsed},e.expand=function(){e.collapsed=!1},e.collapse=function(){e.collapsed=!0},e.index=function(){return o.nodes.indexOf(e)},e.prev=function(){var t=e.index();return t>0?o.nodes[t-1]:null},e.next=function(){var t=e.index();return t<o.nodes.length-1?o.nodes[t+1]:null},e.prevExpandedNode=function(){var t=e.prev();return t?t.lastExpanedNode():n?n.scope:null},e.lastExpanedNode=function(){if(e.collapsed||0===d.length)return e;var t=d[d.length-1];return t.lastExpanedNode()},e.nextExpandedNode=function(){if(!e.collapsed&&d.length>0)return d[0];var t=e.next();if(t)return t.collapsed||0===t.nodes.length?t:t.nodes[0];for(var n=e.$parentNode?e.$parentNode.scope:null;n&&!t;)t=n.next(),n=n.$parentNode?n.$parentNode.scope:null;return t},e.depth=function(){return n?n.scope.depth()+1:1},e.select=function(){e.disabled||e.selected||(e.selected=!0)},e.unselect=function(){!e.disabled&&e.selected&&(e.selected=!1)},e.hover=function(){e.hovered||e.selected||e.disabled||(e.hovered=!0)},e.unhover=function(){e.hovered&&(e.hovered=!1)},e.headerClick=function(t){t.preventDefault(),e.$apply(function(){l.select(e,t)})},e.headerHover=function(t){t.stopImmediatePropagation(),t.preventDefault(),e.$apply(function(){e.hover()})},e.headerUnhover=function(t){t.stopImmediatePropagation(),t.preventDefault(),e.$apply(function(){e.unhover()})},e.$on("$destroy",function(){t=!0,o.removeNode(i)})}]),angular.module("ui.tree").directive("uiTreeKeyHandler",["$document",function(e){return{restrict:"A",require:"^uiTree",link:function(t,n,o,l){e.bind("keydown keypress",function(n){var o=e[0].activeElement.tagName;if("TEXTAREA"!==o&&"INPUT"!==o&&"SELECT"!==o)switch(n.which){case 13:break;case 37:n.preventDefault(),t.$apply(function(){l.collapseSelected()});break;case 38:n.preventDefault(),t.$apply(function(){l.moveUp()});break;case 39:n.preventDefault(),t.$apply(function(){l.expandSelected()});break;case 40:n.preventDefault(),t.$apply(function(){l.moveDown()});break;case 36:n.preventDefault();break;case 35:n.preventDefault();break;case 46:n.preventDefault()}})}}}]),angular.module("ui.tree").directive("uiTree",["$document","uiTreeConfig","$parse","$log",function(e,t){return{restrict:"EA",templateUrl:function(e,n){var o=n.theme||t.theme;return o+"/tree.tpl.html"},replace:!0,transclude:!0,require:["uiTree","?ngModel"],scope:!0,controller:"uiTreeCtrl",controllerAs:"$tree",link:function(e,t,n,o){var l=o[0],r=o[1];l.ngModel=r}}}]),angular.module("ui.tree").directive("uiTreeNode",["uiTreeConfig","$parse","$log",function(e,t){return{restrict:"EA",require:["?^^uiTreeNode","^uiTree"],replace:!0,transclude:!0,scope:!0,controller:"uiTreeNodeCtrl",controllerAs:"$treeNode",templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/tree-node.tpl.html"},link:function(e,n,o,l){e.init(l),e.onSelectCallback=t(o.onSelect),o.$observe("collapsed",function(){e.collapsed=void 0!==o.collapsed?e.$eval(o.collapsed):!1}),o.$observe("selected",function(){e.selected=void 0!==o.selected?e.$eval(o.selected):!1}),o.$observe("text",function(){void 0!==o.text&&(e.text=e.$eval(o.text))})}}}]),angular.module("ui.tree").directive("uiTreeNodeHeader",[function(){return{restrict:"A",require:"^uiTreeNode",link:function(e,t){t.bind("click",function(t){t.stopImmediatePropagation(),e.headerClick(t)}),t.bind("mouseover",function(t){t.stopImmediatePropagation(),e.headerHover(t)}),t.bind("mouseleave",function(t){t.stopImmediatePropagation(),e.headerUnhover(t)}),e.$watch("selected",function(e){e?t.addClass("ui-tree-node-selected"):t.removeClass("ui-tree-node-selected")}),e.$watch("hovered",function(e){e?t.addClass("ui-tree-node-header-hover"):t.removeClass("ui-tree-node-header-hover")})}}}]),angular.module("ui.tree").directive("uiTreeNodeWholerow",[function(){return{restrict:"A",require:"^uiTreeNode",link:function(e,t){t.bind("click",function(t){t.stopImmediatePropagation(),e.headerClick(t)}),t.bind("mouseover",function(t){t.stopImmediatePropagation(),e.headerHover(t)}),t.bind("mouseleave",function(t){t.stopImmediatePropagation(),e.headerUnhover(t)}),e.$watch("selected",function(e){e?t.addClass("ui-tree-node-wholerow-selected"):t.removeClass("ui-tree-node-wholerow-selected")}),e.$watch("hovered",function(e){e?t.addClass("ui-tree-node-wholerow-hover"):t.removeClass("ui-tree-node-wholerow-hover")})}}}])}(),angular.module("ui.tree").run(["$templateCache",function(e){e.put("bootstrap/tree-node.tpl.html",'<li class="ui-tree-node" ng-class="{}"><div class="ui-tree-node-wholerow" ui-tree-node-wholerow="">&nbsp;</div><a class="ui-tree-link" tabindex="-1" ng-click="toggle()"><i ng-class="{\'fa-caret-right\': collapsed, \'fa-caret-down\': !collapsed}" class="ui-tree-icon fa"></i></a><a class="ui-tree-link ui-tree-node-header" href="javascript:void(0)" tabindex="-1" ui-tree-node-header=""><i class="fa fa-folder" ng-class="{\'fa-folder\': collapsed, \'fa-folder-open\': !collapsed}"></i> {{text}}</a><ul class="ui-tree-nodes" ng-show="nodes.length > 0 && !collapsed" ng-transclude=""></ul></li>'),e.put("bootstrap/tree.tpl.html",'<div class="ui-tree tree-default ui-tree-wholerow" ui-tree-key-handler=""><ul ng-transclude="" class="ui-tree-nodes"></ul></div>')}]);